{-| Build-time configuration for Ganeti.

Note that this file is autogenerated by the Makefile with a header
from @AutoConf.hs.in@.

-}

{-

Copyright (C) 2013 Google Inc.

This program is free software; you can redistribute it and/or modify
it under the terms of the GNU General Public License as published by
the Free Software Foundation; either version 2 of the License, or
(at your option) any later version.

This program is distributed in the hope that it will be useful, but
WITHOUT ANY WARRANTY; without even the implied warranty of
MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU
General Public License for more details.

You should have received a copy of the GNU General Public License
along with this program; if not, write to the Free Software
Foundation, Inc., 51 Franklin Street, Fifth Floor, Boston, MA
02110-1301, USA.

-}

module AutoConf where

split :: String -> [String]
split str =
  case span (/= ',') str of
    (x, []) -> [x]
    (x, _:xs) -> x:split xs

packageVersion :: String
packageVersion = "PACKAGE_VERSION"

versionMajor :: Int
versionMajor = VERSION_MAJOR

versionMinor :: Int
versionMinor = VERSION_MINOR

versionRevision :: Int
versionRevision = VERSION_REVISION

versionSuffix :: String
versionSuffix = "VERSION_SUFFIX"

versionFull :: String
versionFull = "VERSION_FULL"

dirVersion :: String
dirVersion = "DIRVERSION"

localstatedir :: String
localstatedir = "LOCALSTATEDIR"

sysconfdir :: String
sysconfdir = "SYSCONFDIR"

sshConfigDir :: String
sshConfigDir = "SSH_CONFIG_DIR"

sshLoginUser :: String
sshLoginUser = "SSH_LOGIN_USER"

sshConsoleUser :: String
sshConsoleUser = "SSH_CONSOLE_USER"

exportDir :: String
exportDir = "EXPORT_DIR"

osSearchPath :: [String]
osSearchPath = split OS_SEARCH_PATH

esSearchPath :: [String]
esSearchPath = split ES_SEARCH_PATH

xenBootloader :: String
xenBootloader = "XEN_BOOTLOADER"

xenConfigDir :: String
xenConfigDir = "XEN_CONFIG_DIR"

xenKernel :: String
xenKernel = "XEN_KERNEL"

xenInitrd :: String
xenInitrd = "XEN_INITRD"

kvmKernel :: String
kvmKernel = "KVM_KERNEL"

sharedFileStorageDir :: String
sharedFileStorageDir = "SHARED_FILE_STORAGE_DIR"

iallocatorSearchPath :: [String]
iallocatorSearchPath = split IALLOCATOR_SEARCH_PATH

kvmPath :: String
kvmPath = "KVM_PATH"

ipPath :: String
ipPath = "IP_PATH"

socatPath :: String
socatPath = "SOCAT_PATH"

socatUseEscape :: Bool
socatUseEscape = SOCAT_USE_ESCAPE

socatUseCompress :: Bool
socatUseCompress = SOCAT_USE_COMPRESS

lvmStripecount :: Int
lvmStripecount = LVM_STRIPECOUNT

toolsdir :: String
toolsdir = "TOOLSDIR"

gntScripts :: [String]
gntScripts = GNT_SCRIPTS[]

htoolsProgs :: [String]
htoolsProgs = HS_HTOOLS_PROGS[]

pkglibdir :: String
pkglibdir = "PKGLIBDIR"

sharedir :: String
sharedir = "SHAREDIR"

versionedsharedir :: String
versionedsharedir = "VERSIONEDSHAREDIR"

drbdBarriers :: String
drbdBarriers = "DRBD_BARRIERS"

drbdNoMetaFlush :: Bool
drbdNoMetaFlush = DRBD_NO_META_FLUSH

syslogUsage :: String
syslogUsage = "SYSLOG_USAGE"

daemonsGroup :: String
daemonsGroup = "DAEMONS_GROUP"

adminGroup :: String
adminGroup = "ADMIN_GROUP"

masterdUser :: String
masterdUser = "MASTERD_USER"

masterdGroup :: String
masterdGroup = "MASTERD_GROUP"

rapiUser :: String
rapiUser = "RAPI_USER"

rapiGroup :: String
rapiGroup = "RAPI_GROUP"

confdUser :: String
confdUser = "CONFD_USER"

confdGroup :: String
confdGroup = "CONFD_GROUP"

luxidUser :: String
luxidUser = "LUXID_USER"

luxidGroup :: String
luxidGroup = "LUXID_GROUP"

nodedUser :: String
nodedUser = "NODED_USER"

nodedGroup :: String
nodedGroup = "NODED_GROUP"

mondUser :: String
mondUser = "MOND_USER"

mondGroup :: String
mondGroup = "MOND_GROUP"

diskSeparator :: String
diskSeparator = "DISK_SEPARATOR"

qemuimgPath :: String
qemuimgPath = "QEMUIMG_PATH"

htools :: Bool
htools = True

enableConfd :: Bool
enableConfd = ENABLE_CONFD

xenCmd :: String
xenCmd = "XEN_CMD"

enableSplitQuery :: Bool
enableSplitQuery = ENABLE_SPLIT_QUERY

enableRestrictedCommands :: Bool
enableRestrictedCommands = ENABLE_RESTRICTED_COMMANDS

enableMond :: Bool
enableMond = ENABLE_MOND

hasGnuLn :: Bool
hasGnuLn = HAS_GNU_LN

-- Write dictionary with man page name as the key and the section
-- number as the value
manPages :: [(String, Int)]
manPages = MAN_PAGES[]

pyAfInet4 :: Int
pyAfInet4 = AF_INET4

pyAfInet6 :: Int
pyAfInet6 = AF_INET6
